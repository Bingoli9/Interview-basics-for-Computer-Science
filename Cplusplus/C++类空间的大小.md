## C++类空间的大小

C++标准规定类的大小不为0，空类的大小为1，当类不包含虚函数和非静态数据成员时，其对象大小也为1。

如果类中声明了虚函数（不管是1或者多个），那么在实例化对象时，编译器会自动在对象里安插一个指针指向虚函数表。在32位机器上，一个对象会增加4个字节来存储此指针，它是实现面向对象中多态的关键。

对于普通继承，派生类和基类共享虚函数指针，派生类和基类共享虚函数指针，派生类对象的存储空间=基类存储空间+派生类特有的非static数据成员的空间。



空的类也是会占用内存空间的，而且大小是1，原因是C++要求每个实例在内存中都有独一无二的地址。
（一）类内部的成员变量：
普通的变量：是要占用内存的，但是要注意内存对齐（这点和struct类型很相似）。
static修饰的静态变量：不占用内存，原因是编译器将其放在全局变量区。
从父类继承的变量：计算进子类中
（二）类内部的成员函数：
非虚函数(构造函数、静态函数、成员函数等)：不占用内存。
虚函数：要占用4个字节(32位的操作系统)，用来指定虚拟函数表的入口地址。跟虚函数的个数没有关系。父类子类工享一个虚函数指针。

构成对象本身的只有数据，任何成员函数都不隶属于任何一个对象，非静态成员函数与对象的关系就是绑定，绑定的中介就是this指针。成员函数为该类所有对象共享，不仅是处于简化语言实现、节省存储的目的，而且是为了使同类对象有一致的行为。同类对象的行为虽然一致，但是操作不同的数据成员。