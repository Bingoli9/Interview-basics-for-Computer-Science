## Nagle 

Nagle算法尽可能发送大块数据，避免网络充斥小数据块。小数据块大小小雨MSS尺寸。



#### Nagle规则

```C++
nagle算法的规则（可参考tcp_output.c文件里tcp_nagle_check函数注释）：

（1）如果包长度达到MSS，则允许发送；

（2）如果该包含有FIN，则允许发送；

（3）设置了TCP_NODELAY选项，则允许发送；

（4）未设置TCP_CORK选项时，若所有发出去的小数据包（包长度小于MSS）均被确认，则允许发送；

（5）上述条件都未满足，但发生了超时（一般为200ms），则立即发送。
```

尽量编写好的代码而不要依赖TCP内置的所谓的算法“来优化TCP的行为

